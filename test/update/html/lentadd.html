<!doctype html>
<html lang = "en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=0.5, maximum-scale=1.0, user-scalable=no" charset = "utf-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <title>대출 추가</title>
    </head>
        <body>
        <header>
                        <a href="/">
                <img src="../img/header.gif" alt="">
            </a>
            <div class="link">
            <a>root님 환영합니다.</a><a href="/member/logout">로그아웃</a>            </div>
                    </header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary"><div class="container-fluid"><a class="navbar-brand" href="#">메뉴</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavDropdown"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link active" aria-current="page" href="/">홈</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">공지사항</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/not/list'>공지사항관리</a></li><li><a class='dropdown-item' href='/not/addupdate'>공지사항추가</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">책</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/book/list'>책관리</a></li><li><a class='dropdown-item' href='/book/addupdate'>책추가</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">종류</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/kind/list'>종류관리</a></li><li><a class='dropdown-item' href='/kind/addupdate'>종류추가</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">도서관</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/lib/list'>도서관관리</a></li><li><a class='dropdown-item' href='/lib/addupdate'>도서관추가</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">자료</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/mat/list'>자료관리</a></li><li><a class='dropdown-item' href='/mat/addupdate'>자료추가</a></li></ul></li><li class="nav-item"><a class="nav-link" href="/member/list">회원</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">대출 및 반납</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/len/list'>대출관리</a></li><li><a class='dropdown-item' href='/len/addupdate'>대출추가</a></li><li><a class='dropdown-item' href='/len/returnLent'>반납추가</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">상호대차</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/del/list'>상호대차관리</a></li><li><a class='dropdown-item' href='/del/addlist'>상호대차도착일추가</a></li><li><a class='dropdown-item' href='/del/completelist'>상호대차완료내역</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">기타</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/res/list'>예약관리</a></li><li><a class='dropdown-item' href='/etc/plalist'>대출장소관리</a></li><li><a class='dropdown-item' href='/etc/duelist'>연체관리</a></li></ul></li></ul></div></div></nav><aside><menu><li><h3>대출</h3></li><li><a class='dropdown-item' href='/len/list'>대출관리</a></li><li><a class='dropdown-item' href='/len/addupdate'>대출추가</a></li><li><a class='dropdown-item' href='/len/returnLent'>반납추가</a></li></menu></aside>        <main>
            <!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../css/form-base.css">
    <script>
        var state = 1
        //필수입력 확인
        function checkInput(myform) {
            if(myform.im_id.value.length <= 0){
                alert("아이디를 찾아주세요.");
                myform.im_id.focus();
                return false;
            }
            if(myform.ib_name.value.length <= 0){
                alert("책 정보를 찾아주세요.");
                myform.ib_name.focus();
                return false;
            }
            if(myform.id_sta.value == '2'){
                alert("정지된 계정이어서 대출이 불가능합니다.");
                myform.im_id.focus();
                return false;
            }
            return true;
        }

        //회원 팝업창
        function checkmem() {
            url = "/len/mempop";
            window.open(url,"chkme","width=310,height=445");
        }

        //자료 팝업창
        function checkmat() {
            url = "/len/matpop";
            window.open(url,"chkma","width=500,height=445");
        }

        //상호대차 팝업창
        function checkdel() {
            url = "/len/delpop";
            window.open(url,"chkde","width=310,height=445");
        }

        //예약 팝업창
        function checkres() { //reservation의 template을 완성후 사용해보기
            url = "/len/respop";
            window.open(url,"chkde","width=310,height=445");
        }

        //회원 팝업창 내용 받아오기
        function memValue(no, name, state){
            document.querySelector("#id_mem").value = no;
            document.querySelector("#im_id").value = name;
            document.querySelector("#id_sta").value = state;
        }

        //자료 팝업창 내용 받아오기
        function matValue(no, name){
            document.querySelector("#id_mat").value = no;
            document.querySelector("#ib_name").value = name;
        }

        //상호대차 팝업창 내용 받아오기
        function delValue(mem, id, state, mat, book, lib, del){
            document.querySelector("#id_mem").value = mem;
            document.querySelector("#im_id").value = id;
            document.querySelector("#id_sta").value = state;
            document.querySelector("#id_mat").value = mat;
            document.querySelector("#ib_name").value = book;
            document.querySelector("#il_no").value = lib; //안되면 const사용하기
            document.querySelector("#id_del").value = del;
        }

        //예약 내용 받아오기
        function resValue(mem, id, state, mat, book, lib){
            document.querySelector("#id_mem").value = mem;
            document.querySelector("#im_id").value = id;
            document.querySelector("#id_sta").value = state;
            document.querySelector("#id_mat").value = mat;
            document.querySelector("#ib_name").value = book;
            document.querySelector("#il_no").value = lib; //안되면 const사용하기
        }
    </script>
</head>
<body>
    <form action="/len/addupdate" method="post" onSubmit="return checkInput(this)" onReset="return checkReset()">
        <fieldset id = form_fieldset>
        <h2>대출 추가</h2>
        <fieldset>아래 내용을  입력하세요.</fieldset>
            <ul>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                      연속 대출
                    </label>
                </div>
                <li>
                    <input type="button" name="del_check" id="ide_check" value="상호대차" onclick="checkdel();">
                    <input type="button" name="del_check" id="ide_check" value="예약찾기" onclick="checkres();">
                </li>
                                <li><label for ="im_check">회원아이디</label></li>
                <li><input type="text" name="mem_id" id="im_id" value="" readonly>
                    <input type="button" name="mem_check" id="im_check" value="회원 찾기" onclick="checkmem();"></li>
                                <li><label for ="il_no">대출 도서관</label><br>
                    <select id ="il_no" name="lib_no">
                        <option  value = 1 > 청주청원도서관 </option><option  value = 2 > 청주상당도서관 </option><option  value = 3 > 청주흥덕도서관 </option><option  value = 4 > 청주금빛도서관 </option>                    </select></li>
                                <li><label for  ="mat_check">책이름</label>
                    <input class="input" type="text" name="book_name" id="ib_name" value="" readonly>
                    <input type ="button" name="mat_check" id="mat_check" value="자료 찾기" onclick="checkmat();"></li>
                                <li><label>연장여부</label>
                    <input type="radio" name="len_ex" id="id_extend" value="7"> 예 
                    <input type="radio" name="len_ex" id="id_normal" value="0"> 아니요</li>
                 
            </ul>
            <input type="hidden" name="len_no" value="">
            <input type="hidden" id="id_mem" name="mem_no" value="">
            <input type="hidden" id="id_sta" name="mem_state" value="">
            <input type="hidden" id="id_mat" name="mat_no" value="">
            <input type="hidden" id="id_del" name="del_no" value="">
            <input type="hidden" id="id_res" name="res_no" value="">
            <div class="form_class">
                <input type= "submit" value=" 입력">
                <input type= "reset" value='지우기'>
            </div>
        </fieldset>
    </form>
    <script>
        </script>
</body>
</html>                    </main>
        <footer>
            <img src="../img/footer.gif" alt="">
            <div class='table_menu'><table><tr><th>공지사항</th> <th>책</th> <th>종류</th> <th>도서관</th> <th>자료</th> <th>대출</th> <th>상호대차</th> <th>기타</th></tr><tr><td><a href="/not/list">공지사항관리</a></td><td><a href="/book/list">책관리</a></td><td><a href="/kind/list">종류관리</a></td><td><a href="/lib/list">도서관관리</a></td><td><a href="/mat/list">자료관리</a></td><td><a href="/len/list">대출관리</a></td><td><a href="/del/list">상호대차관리</a></td><td><a href="/res/list">예약관리</a></td></tr><tr><td><a href="/not/addupdate">공지사항추가</a></td><td><a href="/book/addupdate">책추가</a></td><td><a href="/kind/addupdate">종류추가</a></td><td><a href="/lib/addupdate">도서관추가</a></td><td><a href="/mat/addupdate">자료추가</a></td><td><a href="/len/addupdate">대출추가</a></td><td><a href="/del/addlist">상호대차도착일추가</a></td><td><a href="/etc/plalist">대출장소관리</a></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td><a href="/len/returnLent">반납추가</a></td><td><a href="/del/completelist">상호대차완료내역</a></td><td><a href="/etc/duelist">연체관리</a></td></tr></table></div>        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>