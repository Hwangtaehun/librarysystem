
<!doctype html>
<html lang = "en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=0.5, maximum-scale=1.0, user-scalable=no" charset = "utf-8">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="../css/form-root.css">
        <title>책 수정</title>
    </head>
        <body>
        <header>
                        <a href="/">
                <img src="../img/header.gif" alt="">
            </a>
            <div class="link">
            <a>root님 환영합니다.</a>                <button id="logout_hbt" onclick="location.href='/member/logout'"></button>   
                <label for="logout_hbt">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
                        <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                    </svg>
                </label>
                        </div>
                    </header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary"><div class="container-fluid"><a class="navbar-brand"></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavDropdown"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link active" aria-current="page" href="/">홈</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">공지사항</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/not/addupdate'>공지사항추가</a></li><li><a class='dropdown-item' href='/not/list'>공지사항관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">책</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/book/addupdate'>책추가</a></li><li><a class='dropdown-item' href='/book/list'>책관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">종류</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/kind/addupdate'>종류추가</a></li><li><a class='dropdown-item' href='/kind/list'>종류관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">도서관</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/lib/addupdate'>도서관추가</a></li><li><a class='dropdown-item' href='/lib/list'>도서관관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">자료</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/mat/addupdate'>자료추가</a></li><li><a class='dropdown-item' href='/mat/list'>자료관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">대출 및 반납</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/len/addupdate'>대출추가</a></li><li><a class='dropdown-item' href='/len/returnlist'>반납추가</a></li><li><a class='dropdown-item' href='/len/list'>대출관리</a></li><li><a class='dropdown-item' href='/etc/plalist'>대출장소관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">상호대차</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/del/aprelist'>상호대차승인거절</a></li><li><a class='dropdown-item' href='/del/addlist'>상호대차도착일추가</a></li><li><a class='dropdown-item' href='/del/completelist'>상호대차완료내역</a></li><li><a class='dropdown-item' href='/del/list'>상호대차관리</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">기타</a><ul class="dropdown-menu"><li><a class='dropdown-item' href='/member/list'>회원관리</a></li><li><a class='dropdown-item' href='/res/list'>예약관리</a></li><li><a class='dropdown-item' href='/etc/duelist'>연체관리</a></li></ul></li></ul></div></div></nav><aside><div class='sidemenu'><input type='checkbox' id='menuicon'><label for='menuicon'><span></span><span></span><span></span></label><menu><li><h3>책</h3></li><li><a class='dropdown-item' href='/book/addupdate'>책추가</a></li><li><a class='dropdown-item' href='/book/list'>책관리</a></li></menu></div></aside>        <main>
            <!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../css/form-base.css">
    <script>
        //필수 입력했는지 확인 하는 함수
        function checkInput(myform) {
            if(myform.id_name.value.length <= 0){
                alert("도서를 입력하세요.");
                myform.id_name.focus();
                return false;
            }
            if(myform.id_author.value.length <= 0){
                alert("저자를 입력하세요.");
                myform.id_author.focus();
                return false;
            }
            if(myform.id_author.value.includes('(')){
                alert("저자 부분에 ()를 지워주세요.");
                myform.id_author.focus();
                return false;
            }
            if(myform.id_publish.value.length <= 0){
                alert("출판사를 입력하세요.");
                myform.id_publish.focus();
                return false;
            }
            if(myform.id_year.value.length <= 0){
                alert("출판년도를 입력하세요.");
                myform.id_year.focus();
                return false;
            }
            if(myform.id_price.value.length <= 0){
                alert("가격을 입력하세요.");
                myform.id_price.focus();
                return false;
            }
            return true;
        }

        function isbnValue(no, name, aut, pub, year, price, url){
            document.querySelector("#id_id").value = no;
            document.querySelector("#id_name").value = name;
            document.querySelector("#id_author").value = aut;
            document.querySelector("#id_publish").value = pub;
            document.querySelector("#id_year").value = year;
            document.querySelector("#id_price").value = price;
            document.querySelector("#id_url").value = url;
            document.querySelector("#id_img").src = url;
        }

        function checkbook() {
            const url = "/book/isbn";
            window.open(url,"chkbk","width=550,height=620");
        }
    </script>
</head>
<body>
    <form action="/book/addupdate" method="post" onSubmit="return checkInput(this)">
        <fieldset id = form_fieldset>
            <h2>책 수정</h2>
            <div class="form_text">
                <ul>
                    <div class="book_button">
                        <li>
                            <input type = "button" name="book_check" id="id_check" value="책검색" onclick="checkbook();">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                                <label class="form-check-label" for="flexSwitchCheckDefault">직접입력</label>
                            </div>
                        </li>
                    </div>
                    <li><label for  = "id_id">ISBN</label><br>
                        <input class="input" type= "text" name="book_no" id="id_id" value="9788933870693" readonly></li>
                    <li><label for  = "id_name">책이름</label><br>
                        <input class="input" type= "text" name="book_name" id="id_name" value="설민석의 조선왕조실록" readonly></li>
                    <li><label for  = "id_author">저자</label><br>
                        <input class="input" type= "text" name="book_author" id="id_author" value="설민석" readonly></li>
                    <li><label for  = "id_publish">출판사</label><br>
                        <input class="input" type= "text" name="book_publish" id="id_publish" value="세계사" readonly></li>
                    <li><label for  = "id_year">출판년도</label><br>
                        <input class="input" type= "text" name="book_year" id="id_year" value="2016" readonly></li>
                    <li><label for  = "id_price">가격</label><br>
                        <input class="input" type= "text" name="book_price" id="id_price" value="22000" readonly></li>
                    <div class="book_img">
                        <li><label for  = "id_img">이미지</label><br>
                            <img id="id_img" src="https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F513452%3Ftimestamp%3D20240106155556" alt="">
                            <input class="input" type= "hidden" name="book_url" id="id_url" value="https://search1.kakaocdn.net/thumb/R120x174.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F513452%3Ftimestamp%3D20240106155556" readonly></li>
                    </div>
                    <input type="hidden" name="bk_no" value="9788933870693">
                    <div class="form_bt">
                        <input type= "submit" value=" 수정">
                        <input type= "reset" value='지우기'>
                    </div>
                </ul>
            </div>
        </fieldset>
    </form>
    <script>
        const no = document.querySelector("#id_id");
        const ne = document.querySelector("#id_name");
        const author = document.querySelector("#id_author");
        const publish = document.querySelector("#id_publish");
        const year = document.querySelector("#id_year");
        const price = document.querySelector("#id_price");
        const url = document.querySelector("#id_url");
        const img = document.querySelector("#id_img");
        const res = document.querySelector("#id_check");

        document.querySelector("#flexSwitchCheckDefault").addEventListener("change", function (e) {
            e.preventDefault();

            if(this.checked == true){
                res.disabled = true;
                no.readOnly = false;
                ne.readOnly = false;
                author.readOnly = false;
                publish.readOnly = false;
                year.readOnly = false;
                price.readOnly = false;
                url.readOnly = false;
                img.readOnly = false;
            }else{
                res.disabled = false;
                no.readOnly = true;
                ne.readOnly = true;
                author.readOnly = true;
                publish.readOnly = true;
                year.readOnly = true;
                price.readOnly = true;
                url.readOnly = true;
                img.readOnly = true;
            }
        });
    </script>
</body>
</html>                    </main>
        <footer>
            <img src="../img/footer.gif" alt="">
            <div class='table_menu'><table><tr><th>공지사항</th> <th>책</th> <th>종류</th> <th>도서관</th> <th>자료</th> <th>대출</th> <th>상호대차</th> <th>기타</th></tr><tr><td><a href="/not/addupdate">공지사항추가</a></td><td><a href="/book/addupdate">책추가</a></td><td><a href="/kind/addupdate">종류추가</a></td><td><a href="/lib/addupdate">도서관추가</a></td><td><a href="/mat/addupdate">자료추가</a></td><td><a href="/len/addupdate">대출추가</a></td><td><a href="/del/aprelist">상호대차승인거절</a></td><td><a href="/member/list">회원관리</a></td></tr><tr><td><a href="/not/list">공지사항관리</a></td><td><a href="/book/list">책관리</a></td><td><a href="/kind/list">종류관리</a></td><td><a href="/lib/list">도서관관리</a></td><td><a href="/mat/list">자료관리</a></td><td><a href="/len/returnlist">반납추가</a></td><td><a href="/del/addlist">상호대차도착일추가</a></td><td><a href="/res/list">예약관리</a></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td><a href="/len/list">대출관리</a></td><td><a href="/del/completelist">상호대차완료내역</a></td><td><a href="/etc/duelist">연체관리</a></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td><a href="/etc/plalist">대출장소관리</a></td><td><a href="/del/list">상호대차관리</a></td></table></div>        </footer>
        <script>
            let sidemenu = document.querySelector('.sidemenu');
            let menu_bt = document.querySelector('#menuicon');

                        menu_bt.addEventListener("change", function (e) {
                if(menu_bt.checked == true){
                    sidemenu.style.background = '#000000';
                }else{
                    sidemenu.style.background = 'none';
                }
            });
                    </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>